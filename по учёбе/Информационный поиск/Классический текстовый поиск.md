### Мешок слов
У нас есть **запрос** с текстом:
*мама мыла раму*.

И у нас есть **словарь** словарь:
$word_1$ 
$word_2$ 
...
$word_n$ 

И чтобы представить текст в виде векторы, используется вектор размером со словарь, в котором элементы с индексами элементов словаря (слов), которым соответствуют слова из запроса, а остальные элементы - ноль.
И получается, чтобы найти документ наиболее подходящий запросу $q$, можно **применить поиск**:
$search(q) = \{doc \space d \in D: \space |q \cap d|/|d| \geq c \}$

И как можно для такой простой модели построить поиск? Ответом может быть **инвертированный индекс**.
### Инвертированный индекс
Можно его назвать хэш-таблицей. 
На месте индексов располагаются слова, а значениями, связанными с индексами, являются списки текстов, содержащих индекс-слово.
$word_{мама} - [1, 2, 5, 6, 10,42]$
$word_{мыла} - [1, 24, 42, 209]$
...
$word_{раму} - [42, 101, 666, 999]$
### Булев поиск
**Опр**. Простейшая реализация текстового поиска, основанная на модели мешок слов и на инвертированном индексе.

Запрос формируется в виде предиката. И это нам даёт операции: AND, OR, NOT.
И **задачей является** отвечать на запросы вида:
$AND(мама, мыла, раму)$
$OR$
$AND(мыла, раму)$

Как можно организовать исполнение булевого запроса?
...
...
...
Пример поискового движка **Apache Lucene**.

Skip-list.
...
...
...

### Document
Какая вообще структура у документа?

**Поля**. (title, header, body, comment)
Это атрибуты токена, который мы индексируем. Например слово "мама" мы можем искать не во всё тексте, а в body документа.

Для **Q&A поиска** (это поиск, в котором  ищем ответы на вопросы).
Поля делятся на:
 - абзацы
	 - предложения
		 - слова
			 - subwords (приставки, суффиксы)
Для Q&A поиска неразумно возвращать весь текст, поэтому в нашем поиске появляется определение **координатного индекса**.

**Расширенный поиск**:
Операция **NEAR**.
$NEAR(t_1, t_2, \triangle) = \{d \in D: |pos(t_1) - pos(t_2)| \leq \triangle \}$ , то есть вводим операцию расстояния между словами в документе.
Операция **ADJ**(примыкание).
$ADJ(t_1, t_2, \triangle) = \{d \in D: pos(t_2)-pos(t_1) = 1 \}$

### Dict
Мы можем сказать, что наш словарь состоит не только из слов, но и из биграм.

#### df(word)
Document frequency. В скольки документах содержится слово.




## Общее
Что нужно для выбора проекта:
### Типы поиска
- Гибридный поиск
- RAG на векторном поиске
- RAG на текстовом поиске
### Доменная область
Что будем индексировать?
На чём будем искать?
Например искать по arxiv или по википедии. Можно включать разные модальности.










### 1. Гибридный поиск

**Суть:**
Гибридный поиск сочетает в себе разные подходы к поиску информации, такие как текстовый и векторный поиск, чтобы повысить точность и эффективность результатов. Этот метод использует как традиционные алгоритмы поиска по ключевым словам (например, те, что используют индексированные документы), так и более современные методы векторного поиска, которые учитывают семантические отношения между словами.

**Отличия:**
- Использует оба подхода для обработки запросов.
- Может учитывать как точные совпадения (например, по ключевым словам), так и более сложные семантические связи (например, с помощью векторного представления текстов).
- Гибридная модель может быть более адаптивной к различным запросам пользователей, тем самым обеспечивая более высокое качество результатов.

### 2. RAG на векторном поиске (Retrieval-Augmented Generation)

**Суть:**
Подход RAG на векторном поиске объединяет векторный поиск с генерацией текста. Он использует механизм, который сначала извлекает наиболее подходящие документы из базы данных с помощью векторного поиска, а затем на основе этих документов генерирует ответ на запрос. Это может использоваться, например, в чат-ботах или других системах, где требуется не просто поиск, а также генерация человеческого текста на основе найденной информации.

**Отличия:**
- Основное внимание уделяется использованию векторного поиска для извлечения релевантной информации.
- Входит в цепочку процесса генерация ответа, что делает его более динамичным и адаптивным.
- Способен интегрировать новые данные в ответы, что дает возможность предоставлять актуальную информацию.

### 3. RAG на текстовом поиске

**Суть:**
Этот подход похож на RAG на векторном поиске, но вместо векторного поиска использует традиционный текстовый поиск для извлечения документов. Сначала система ищет документы, основанные на ключевых словах и других текстовых закономерностях, а затем на основе этих документов генерирует ответ.

**Отличия:**
- Использует только традиционные алгоритмы текстового поиска, что может ограничивать его гибкость по сравнению с векторным поиском.
- Меньше внимания уделяется семантическим связям и контексту, что может привести к менее релевантным ответам в случае сложных запросов.
- Эффективен для более простых задач или в случаях, когда документация хорошо индексирована по ключевым словам.

### Сравнительная таблица

| Подход                  | Основные характеристики                             | Преимущества                           | Недостатки                              |
| ----------------------- | --------------------------------------------------- | -------------------------------------- | --------------------------------------- |
| Гибридный поиск         | Сочетает текстовый и векторный поиск                | Высокое качество результатов           | Требует большую вычислительную мощность |
| RAG на векторном поиске | Извлечение через векторный поиск + генерация ответа | Адаптивность и актуальность информации | Может быть медленнее из-за генерации    |
| RAG на текстовом поиске | Извлечение через текстовый поиск + генерация ответа | Простота реализации                    | Ограниченная семантическая гибкость     |

В целом, выбор подхода зависит от конкретной задачи, доступных данных и требований к качеству ответов.




По проекту:
нужно выбрать датасет приндексировать.

про RAG. посмотреть colbert ...

