# Что подсказывает ГПТ
## Вопрос.
У меня есть ряд одних чисел например схожести эмбеддингов статей и эмбеддинга компании для каждой недели в году, то есть у меня 52 числа. А так уже у меня есть ряд из значений цены акции этой компании в каждой неделе в году, то есть тоже 52 значения.  
Какие есть статистические методы для определения наличия взаимосвязи между одними значениям и другими, причём одни значения (косинусные расстояния) могут влиять на другие значения (цены на акции) с отложенным эффектом (время которого неизвестно)? А если взаимосвязь есть, то как оценить её величину?

## Ответ.
Для анализа взаимосвязи между двумя временными рядами, такими как схожесть эмбеддингов и цены акций, можно использовать несколько статистических методов. Прежде всего, важно отметить, что вы ищете не просто корреляцию, но и возможное наличие временных задержек в влиянии одного ряда на другой. Ниже приведены некоторые методы, которые могут быть полезны в вашем случае.
### 1. Корреляционный анализ
– **Корреляция Пирсона**: Позволяет определить линейную взаимосвязь между двумя рядами. Однако этот метод не учитывает временные задержки.  
– **Кросс-корреляция**: Исследует корреляцию между рядами при различном смещении (лаге). Это полезно для выявления задержек во влиянии одних временных рядов на другие.
### 2. Регрессионный анализ
– **Линейная регрессия**: Модель линейной зависимости одного переменной от другой. Может быть адекватной при отсутствии задержек в данных.  
– **Модель с временными задержками**: Использует переменные задержек (лаги) из одного ряда как предикторы для другого ряда. Например, можно создать модель с использованием лагов цен акций и значений схожести эмбеддингов.
### 3. Модели временных рядов
– **ARIMA**: Модель авторегрессии интегрированного движущегося среднего (ARIMA) может быть использована для моделирования временных рядов, включая внешние переменные.  
– **VAR** (Vektor AutoRegression): Если два временных ряда взаимосвязаны и оба являются стационарными, можно использовать VAR для оценки влияния одной переменной на другую с учетом временной динамики.
### 4. Кausalный анализ
– **Granger причинность**: Определяет, вызывает ли один временной ряд изменения в другом, с учетом задержек. Это особенно полезно, если вы хотите проверить, могут ли значения схожести эмбеддингов "обуславливать" значения цен акций.
### 5. Оценка взаимосвязи
– Если взаимосвязь установлена, её величину можно оценить с помощью коэффициентов, подобных коэффициенту регрессии и значимости теста (например, t-теста для регрессий). Также можно использовать методы оценки эффекта, такие как:
1. **Коэффициент детерминации (R²)**: Отражает долю дисперсии зависимой переменной, объясняемую моделью.
2. **Чувствительность и специфичность анализа**: Если у вас есть бинарные переменные, можно использоватьROC-анализ.
3. **Визуализация**: Построение графиков совместного изменения рядов, скользящие средние и коррелационные графики могут помочь в оценке.
